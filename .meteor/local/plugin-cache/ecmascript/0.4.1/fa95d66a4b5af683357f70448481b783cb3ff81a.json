{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"react-dom","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ReactDOM"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"classnames","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"classnames"}]},{"source":"../api/users.js","imported":["Users"],"specifiers":[{"kind":"named","imported":"Users","local":"Users"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/MsgBoxItem.jsx","filenameRelative":"/imports/ui/MsgBoxItem.jsx","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/MsgBoxItem.jsx.map","sourceFileName":"/imports/ui/MsgBoxItem.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"MsgBoxItem"},"ignored":false,"code":"exports.__esModule = true;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _meteor = require('meteor/meteor');\n\nvar _reactMeteorData = require('meteor/react-meteor-data');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _users = require('../api/users.js');\n\nvar _reactRouter = require('react-router');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// MsgBoxItem component - represents msg item of user's msgBox list\n\nvar MsgBoxItem = function (_Component) {\n  (0, _inherits3['default'])(MsgBoxItem, _Component);\n\n  function MsgBoxItem() {\n    (0, _classCallCheck3['default'])(this, MsgBoxItem);\n    return (0, _possibleConstructorReturn3['default'])(this, _Component.apply(this, arguments));\n  }\n\n  MsgBoxItem.prototype.render = function () {\n    function render() {\n      var msg = this.props.msg;\n      var itemClassName = (0, _classnames2['default'])({\n        'msg-item': true,\n        'msg-item--unread': msg.isUnread\n      });\n      f_id = msg.send_id == _meteor.Meteor.userId() ? msg.recevier_id : msg.send_id;\n      return _react2['default'].createElement(\n        'li',\n        { className: itemClassName },\n        _react2['default'].createElement(\n          _reactRouter.Link,\n          { to: '/' + f_id },\n          _react2['default'].createElement(\n            'div',\n            { className: 'msg-item_name' },\n            ' ',\n            this.props.friend[0] && this.props.friend[0].username,\n            ' '\n          ),\n          _react2['default'].createElement(\n            'div',\n            { className: 'msg-item_content' },\n            _react2['default'].createElement(\n              'span',\n              { className: 'msg-item_time' },\n              ' ',\n              msg.time.toLocaleDateString() + '  ' + msg.time.toLocaleTimeString()\n            ),\n            _react2['default'].createElement(\n              'p',\n              null,\n              msg.content,\n              ' '\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return MsgBoxItem;\n}(_react.Component);\n\nMsgBoxItem.propTypes = {\n  msg: _react.PropTypes.object.isRequired,\n  friend: _react.PropTypes.array.isRequired\n};\n\nexports['default'] = (0, _reactMeteorData.createContainer)(function () {\n  _meteor.Meteor.subscribe('users');\n  _meteor.Meteor.subscribe('findUsers', f_id);\n  return {\n    friend: _users.Users.find({ _id: f_id }).fetch()\n  };\n}, MsgBoxItem);","ast":null,"map":{"version":3,"sources":["/imports/ui/MsgBoxItem.jsx"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;;;IAEM;;;;;;;;uBACJ;sBAAU;AACR,UAAM,MAAM,KAAK,KAAL,CAAW,GAAX,CADJ;AAER,UAAM,gBAAgB,6BAAW;AAC/B,oBAAY,IAAZ;AACA,4BAAoB,IAAI,QAAJ;OAFA,CAAhB,CAFE;AAMR,aAAO,IAAI,OAAJ,IAAe,eAAO,MAAP,EAAf,GAAiC,IAAI,WAAJ,GAAkB,IAAI,OAAJ,CANlD;AAOR,aACE;;UAAI,WAAW,aAAX,EAAJ;QACE;;YAAM,UAAQ,IAAR,EAAN;UACA;;cAAK,WAAU,eAAV,EAAL;;YAAkC,KAAK,KAAL,CAAW,MAAX,CAAkB,CAAlB,KAAwB,KAAK,KAAL,CAAW,MAAX,CAAkB,CAAlB,EAAqB,QAArB;eAA1D;WADA;UAEA;;cAAK,WAAU,kBAAV,EAAL;YACE;;gBAAM,WAAU,eAAV,EAAN;;cAAsC,IAAI,IAAJ,CAAS,kBAAT,YAAkC,IAAI,IAAJ,CAAS,kBAAT,EAAxE;aADF;YAEE;;;cAAK,IAAI,OAAJ;iBAAL;aAFF;WAFA;SADF;OADF,CAPQ;;;;;;SADN;;;AAsBN,WAAW,SAAX,GAAuB;AACrB,OAAK,iBAAU,MAAV,CAAiB,UAAjB;AACL,UAAQ,iBAAU,KAAV,CAAgB,UAAhB;CAFV;;qBAMe,sCAAgB,YAAM;AACnC,iBAAO,SAAP,CAAiB,OAAjB,EADmC;AAEnC,iBAAO,SAAP,CAAiB,WAAjB,EAA8B,IAA9B,EAFmC;AAGnC,SAAO;AACL,YAAQ,aAAM,IAAN,CAAW,EAAC,KAAI,IAAJ,EAAZ,EAAuB,KAAvB,EAAR;GADF,CAHmC;CAAN,EAM5B,UANY","file":"/imports/ui/MsgBoxItem.jsx.map","sourcesContent":["import React, { Component, PropTypes } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Meteor } from 'meteor/meteor'\nimport { createContainer } from 'meteor/react-meteor-data'\nimport classnames from 'classnames'\nimport { Users } from '../api/users.js'\nimport { Link } from 'react-router'\n// MsgBoxItem component - represents msg item of user's msgBox list\nclass MsgBoxItem extends Component {\n  render () {\n    const msg = this.props.msg\n    const itemClassName = classnames({\n      'msg-item': true,\n      'msg-item--unread': msg.isUnread\n    })\n    f_id = msg.send_id == Meteor.userId() ? msg.recevier_id : msg.send_id\n    return (\n      <li className={itemClassName}>\n        <Link to={`/${f_id}`}>  \n        <div className=\"msg-item_name\"> { this.props.friend[0] && this.props.friend[0].username } </div> \n        <div className=\"msg-item_content\"> \n          <span className=\"msg-item_time\"> { `${msg.time.toLocaleDateString()}  ${msg.time.toLocaleTimeString()}` }</span>\n          <p>{ msg.content } </p>\n        </div>  \n        </Link>\n      </li>\n    )\n  }\n}\n \nMsgBoxItem.propTypes = {\n  msg: PropTypes.object.isRequired,\n  friend: PropTypes.array.isRequired\n}\n\n\nexport default createContainer(() => {\n  Meteor.subscribe('users')\n  Meteor.subscribe('findUsers', f_id)\n  return {\n    friend: Users.find({_id:f_id}).fetch()\n  }\n}, MsgBoxItem)\n"]},"hash":"fa95d66a4b5af683357f70448481b783cb3ff81a"}
